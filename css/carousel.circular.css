/* ===============================
   CAROUSEL – CIRCULAR (MOBILE FIRST)
   Fix:
   - perspective + preserve-3d (ให้ z ทำงานจริง)
   - transparent / no frame
   =============================== */

:root{
  --car-h: 250px;
  --car-pad: 8px;

  --card-w: 112px;
  --card-h: 168px;

  --shadow-a: rgba(15, 23, 42, 0.22);
  --shadow-b: rgba(15, 23, 42, 0.26);
}

.carousel{
  position: relative;
  width: 100%;
  max-width: 100vw;
  height: var(--car-h);
  padding: var(--car-pad);
  overflow: hidden;

  background: transparent;
  border: 0;
  box-shadow: none;
}

.ring,
#ring{
  position: relative;
  width: 100%;
  height: 100%;

  background: transparent;
  border: 0;
  box-shadow: none;

  touch-action: pan-y;
  user-select: none;
  -webkit-user-select: none;

  /* สำคัญ: ให้ z มีความหมาย */
  perspective: 900px;
  transform-style: preserve-3d;
}

.card{
  position: absolute;
  top: 50%;
  left: 50%;
  width: var(--card-w);
  height: var(--card-h);
  transform: translate(-50%, -50%);
  transform-origin: center center;

  background: transparent;
  border: 0;
  padding: 0;
  margin: 0;

  border-radius: 26px;
  overflow: visible;
  cursor: pointer;

  will-change: transform;
}

.card img{
  width: 100%;
  height: 100%;
  display: block;
  border-radius: 26px;
  pointer-events: none;
  will-change: filter, opacity;
}

/* เงาลอยแบบเนียน (ไม่มีกรอบ BG) */
.card.is-front img{
  filter: drop-shadow(0 16px 26px var(--shadow-b));
  opacity: 1;
}

.card.is-back img{
  filter: drop-shadow(0 10px 18px var(--shadow-a));
  opacity: 0.78;
}

@media (max-width: 360px){
  :root{
    --car-h: 232px;
    --card-w: 104px;
    --card-h: 156px;
  }
}

@media (min-width: 768px){
  :root{
    --car-h: 320px;
    --card-w: 140px;
    --card-h: 210px;
  }
}
